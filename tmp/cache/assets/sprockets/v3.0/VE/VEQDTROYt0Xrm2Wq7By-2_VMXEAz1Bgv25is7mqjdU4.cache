I"v(function() {
  var Collapser, DropUp, imagePreview;

  imagePreview = function(input) {
    var box, filerd, image;
    if (input.files && input.files[0]) {
      filerd = new FileReader();
      image = $('#imgpreview');
      box = $('.image-upload-box');
      box.addClass('post-image-box');
      filerd.onload = function(event) {
        image.css('display', 'block');
        return image.attr('src', event.target.result);
      };
      return filerd.readAsDataURL(input.files[0]);
    }
  };

  $('.file-input').on("change", function() {
    return imagePreview(this);
  });

  Collapser = function(trigger) {
    var collapsableContent, container, contentBox;
    collapsableContent = $($(trigger).data("target"));
    collapsableContent.slideToggle('slow');
    container = $(trigger.closest('.post-container'));
    container.toggleClass('focus-container');
    contentBox = container.children('.content-box');
    return contentBox.toggleClass('plain');
  };

  $('.collapsable').click(function() {
    return Collapser(this);
  });

  $('html').click(function() {
    return $(".reactions-container").hide();
  });

  $('.post-extras').click(function(e) {
    return e.stopPropagation();
  });

  $('.trigger-buttons').click(function() {
    return $('.trigger-buttons').show();
  });

  DropUp = function(trigger) {
    var dropContent, toHideArea;
    dropContent = $($(trigger).data("target"));
    dropContent.show();
    toHideArea = dropContent.closest('.post-extras');
    return toHideArea.children('.trigger-buttons').hide();
  };

  $('.reactions-toggler').on("click", function() {
    return DropUp(this);
  });

}).call(this);
:ET